# Guía de Pentesting Profesional: Herramientas y Documentación

## 1. Introducción al Pentesting Profesional

Realizar un pentesting (prueba de penetración) no es solo ejecutar herramientas y ver qué sale. Es un proceso metódico y ético que busca simular un ataque real para identificar vulnerabilidades, evaluar el impacto y proponer soluciones. La clave del éxito reside en una metodología sólida, el uso adecuado de herramientas y una documentación exhaustiva y profesional.

## 2. Fases Comunes de un Pentesting

Aunque las metodologías pueden variar (OSSTMM, PTES, OWASP Testing Guide), las fases suelen ser similares:

1.  **Reconocimiento (Reconnaissance):** Recopilación de información pasiva y activa sobre el objetivo.
2.  **Escaneo (Scanning):** Identificación de puertos abiertos, servicios y sistemas operativos.
3.  **Enumeración (Enumeration):** Extracción de información detallada de los servicios y sistemas (usuarios, recursos compartidos, etc.).
4.  **Análisis de Vulnerabilidades (Vulnerability Analysis):** Identificación de debilidades conocidas en los sistemas y aplicaciones.
5.  **Explotación (Exploitation):** Demostración del impacto de una vulnerabilidad obtenida acceso o control.
6.  **Post-Explotación (Post-Exploitation):** Mantener el acceso, escalar privilegios, pivotar a otros sistemas, recopilar información sensible.
7.  **Mantenimiento de Acceso (Maintaining Access):** Establecer puertas traseras o mecanismos persistentes.
8.  **Borrado de Huellas (Covering Tracks):** Eliminar logs y evidencias del ataque.
9.  **Reporte (Reporting):** Documentar todos los hallazgos, el impacto y las recomendaciones.

## 3. Herramientas Habituales en Pentesting

Aquí tienes una lista de herramientas comunes, categorizadas por su uso. Muchas de ellas están preinstaladas en Kali Linux.

### 3.1. Reconocimiento e Información

*   **`whois`:** Información de registro de dominios.
*   **`nslookup` / `dig`:** Consultas DNS.
*   **`theHarvester`:** Recopilación de emails, subdominios, nombres de hosts, etc., de fuentes públicas.
*   **`Maltego`:** Herramienta gráfica para la minería de datos y visualización de relaciones.
*   **`Shodan`:** Motor de búsqueda de dispositivos conectados a Internet (puertos, banners, vulnerabilidades).

### 3.2. Escaneo de Puertos y Servicios

*   **`nmap`:** El escáner de puertos por excelencia. Imprescindible para descubrir hosts, puertos abiertos, servicios y versiones.

### 3.3. Escaneo de Vulnerabilidades (Web y Red)

*   **`Nikto`:** Escáner de vulnerabilidades de servidores web (configuraciones, archivos peligrosos, versiones).
*   **`OWASP ZAP` (Zed Attack Proxy):** Proxy de interceptación y escáner de vulnerabilidades web automatizado y manual.
*   **`Burp Suite` (Community/Professional):** Proxy de interceptación, escáner de vulnerabilidades web, herramientas de repetición, intrusión, etc. (La versión Professional es la más completa).
*   **`GVM` (Greenbone Vulnerability Management) / `OpenVAS`:** Plataforma completa de gestión de vulnerabilidades para redes y aplicaciones.

### 3.4. Proxies de Interceptación

*   **`Burp Suite`:** Permite interceptar, ver y modificar peticiones y respuestas HTTP/S.
*   **`OWASP ZAP`:** Similar a Burp, con funcionalidades de escaneo y fuzzing.

### 3.5. Explotación

*   **`Metasploit Framework`:** La herramienta más conocida para desarrollar, probar y ejecutar exploits. Incluye payloads, encoders, etc.
*   **`SQLMap`:** Herramienta automática para detectar y explotar vulnerabilidades de inyección SQL.
*   **`Hydra`:** Herramienta de fuerza bruta para múltiples protocolos (SSH, FTP, HTTP, etc.).
*   **`Searchsploit`:** Base de datos de exploits offline (parte de Exploit-DB).

### 3.6. Post-Explotación y Mantenimiento de Acceso

*   **`Netcat` (`nc`):** La "navaja suiza" de las redes. Útil para crear shells inversas, transferir archivos, etc.
*   **`Meterpreter` (de Metasploit):** Payload avanzado para post-explotación.
*   **`Mimikatz` (en Windows):** Para extraer credenciales de la memoria.

### 3.7. Análisis de Tráfico

*   **`Wireshark`:** Analizador de protocolos de red gráfico. Permite inspeccionar paquetes en detalle.
*   **`tcpdump`:** Analizador de paquetes de red en línea de comandos.

### 3.8. Sistemas Operativos para Pentesting

*   **`Kali Linux`:** La distribución más popular, con una vasta colección de herramientas preinstaladas.
*   **`Parrot OS`:** Otra distribución basada en Debian, con un enfoque en seguridad y privacidad.

## 4. Documentación Profesional en Pentesting

La documentación es tan importante como la propia explotación. Un buen informe es el producto final de un pentesting.

### 4.1. ¿Por qué documentar?

*   **Claridad:** Para que el cliente entienda los riesgos.
*   **Reproducibilidad:** Para que el cliente pueda verificar y mitigar las vulnerabilidades.
*   **Evidencia:** Prueba de que la vulnerabilidad existe y fue explotada.
*   **Seguimiento:** Para futuras auditorías y para medir el progreso de la seguridad.

### 4.2. ¿Qué documentar?

*   **Metodología:** Qué pasos se siguieron.
*   **Alcance (Scope):** Qué sistemas y aplicaciones estaban incluidos (y excluidos) en la prueba.
*   **Herramientas:** Qué herramientas se usaron y cómo se configuraron.
*   **Comandos y Salidas:** Registrar los comandos exactos ejecutados y sus resultados (texto, logs).
*   **Evidencia (Capturas de Pantalla):** Imágenes que demuestren la explotación de una vulnerabilidad (ej. acceso a un panel de administración, lectura de un archivo sensible).
*   **Vulnerabilidades Encontradas:** Para cada una:
    *   **Nombre y Referencia:** (ej. SQL Injection, CVE-XXXX-YYYY).
    *   **Descripción:** Qué es la vulnerabilidad.
    *   **Impacto:** Qué daño podría causar un atacante.
    *   **Pasos de Reproducción:** Cómo se puede replicar la vulnerabilidad (paso a paso).
    *   **Recomendaciones:** Cómo mitigar o solucionar la vulnerabilidad.
*   **Línea de Tiempo:** Un registro cronológico de las acciones realizadas.

### 4.3. Formato y Herramientas de Documentación

*   **Informes Estructurados:** Generalmente en PDF, con secciones claras (Resumen Ejecutivo, Metodología, Hallazgos, Conclusiones, Recomendaciones).
*   **Markdown (`.md`):** Ideal para notas rápidas, documentación técnica y para repositorios como este. Puedes usar nuestra [Plantilla de Informe de Escaneo](./plantillas/plantilla-informe-escaneo.md) para tus prácticas o la [Plantilla de Informe Completo](./plantillas/plantilla-informe-completo.md) para reportes más extensos.
*   **Herramientas de Gestión de Notas:** `CherryTree`, `Obsidian`, `Joplin`.
*   **Herramientas de Gestión de Proyectos:** `Jira`, `Trello` (para equipos).

## 5. Recursos y Enlaces Útiles

*   **OWASP Foundation:** [https://owasp.org/](https://owasp.org/)
    *   **OWASP Top 10:** [https://owasp.org/www-project-top-ten/](https://owasp.org/www-project-top-ten/)
    *   **OWASP Cheat Sheet Series:** [https://cheatsheetseries.owasp.org/](https://cheatsheetseries.owasp.org/) (Guías rápidas sobre temas específicos de seguridad).
    *   **OWASP Testing Guide:** [https://owasp.org/www-project-web-security-testing-guide/](https://owasp.org/www-project-web-security-testing-guide/) (Metodología detallada para pruebas de seguridad web).
*   **Exploit-DB:** [https://www.exploit-db.com/](https://www.exploit-db.com/) (Base de datos de exploits públicos).
*   **PortSwigger Web Security Academy:** [https://portswigger.net/web-security](https://portswigger.net/web-security) (Laboratorios interactivos y material de aprendizaje para Burp Suite y vulnerabilidades web).
*   **Hack The Box / TryHackMe:** Plataformas online para practicar hacking ético en entornos reales.
    *   [https://www.hackthebox.com/](https://www.hackthebox.com/)
    *   [https://tryhackme.com/](https://tryhackme.com/)
*   **CVE Details:** [https://www.cvedetails.com/](https://www.cvedetails.com/) (Base de datos de vulnerabilidades y exposiciones comunes).
